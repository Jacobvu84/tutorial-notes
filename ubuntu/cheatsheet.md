# Ubuntu commands cheatsheet

| Purpose                                                  | Command                                                                                  | More info                                                                                                                                  |                                                                                  |
| -------------------------------------------------------- | ---------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------- |
| List all users                                           | `cut -d: -f1 /etc/passwd`                                                                |                                                                                                                                            |                                                                                  |
| List all groups                                          | `cat /etc/group`                                                                         |                                                                                                                                            |                                                                                  |
| Check groups of user                                     | `groups <username>`                                                                      |                                                                                                                                            |                                                                                  |
| Create group                                             | `addgroup [-r or --system] [-g or --gid GID] <groupname>`                                | `GID` is Group ID, an unique positive number. `-r or --system` create system group                                                         |                                                                                  |
| Create user                                              | `adduser <username>`                                                                     |                                                                                                                                            |                                                                                  |
| Create a new user or update default new user information | `useradd <username>`                                                                     |                                                                                                                                            |                                                                                  |
| Add user into group                                      | `adduser <username or uid> <groupname or gid>` or `usermod -a -G <groupname> <username>` |                                                                                                                                            |                                                                                  |
| Delete user from group                                   | `deluser <username> <groupname>`                                                         |                                                                                                                                            |                                                                                  |
| Add user into sudo group                                 | `adduser <username> sudo` or `usermod -aG sudo <username>`                               |                                                                                                                                            |                                                                                  |
| Change user's password                                   | `passwd <username>`                                                                      |                                                                                                                                            |                                                                                  |
| Change user's login name                                 | `usermod -l <current_username> <new_username>`                                           |                                                                                                                                            |                                                                                  |
| Compress with `tar`                                      | `tar -czvf [--exclude=regex-path] <filename> <directory-path>`                           | `-c`: create, `-z`: using gzip, `-v`: verbose, `-f`: specify filename, `--exclude`: exclude path. Should use extension `.tar.gz` or `.tgz` |                                                                                  |
| Uncompress with `tar`                                    | `tar -xzvf <filename> [-C <directory-path>]`                                             | `-x`: extract                                                                                                                              |                                                                                  |
| Check port                                               | `netstat [options]                                                                       | grep <port>`                                                                                                                               | `-n`: no foreign IP check, `-p`: show protocol, `-t`: tcp, `-u`: udp, `-l`: list |
| View crontab                                             | `cat /etc/crontab`                                                                       | System crontab                                                                                                                             |                                                                                  |
| Make symbolic link                                       | `ln -s <src> <dst>`                                                                      | Windows: `mklink /D /H /J <src> <dst>`                                                                                                     |                                                                                  |
| Check IP tables                                          | `cat /etc/sysconfig/iptables`     OR `iptables -L`                                       |                                                                                                                                            |                                                                                  |
| Restore IP table                                         | `sudo iptables-restore < /etc/iptables/rules.v4`                                         |                                                                                                                                            |                                                                                  |
| Save IP table                                            | `sudo iptables-save > /etc/iptables/rules.v4`                                            |                                                                                                                                            |                                                                                  |